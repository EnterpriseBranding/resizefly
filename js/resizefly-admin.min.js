(function ($) {
function showHideTable(toggle,$section){toggle?$section.show():$section.hide()}var resizefly=window.resizefly,buttonIds=["#"+resizefly.purge_id,"#"+resizefly.resized_id];$(buttonIds.join(",")).on("click",function(e){e.preventDefault();var data={action:$(this).attr("id"),_ajax_nonce:$(this).data("nonce")},resultId="#"+$(this).attr("id")+"-result";$.post(ajaxurl,data,function(response){console.log(resultId),response.files?$(resultId).html(resizefly.purge_result).children(".resizefly-files").text(response.files).parent().children(".resizefly-size").text(byteCalc.humanReadable(response.size)):$(resultId).text(resizefly.purge_empty)})});var byteCalc={};byteCalc.round=function(number,precision){var factor=Math.pow(10,precision),tempNumber=number*factor;return Math.round(tempNumber)/factor},byteCalc.humanReadable=function(bytes){if(0===bytes)return"0 Byte";var sizes=["Bytes","KB","MB","GB","TB"],i=parseInt(Math.floor(Math.log(bytes)/Math.log(1024)));return this.round(bytes/Math.pow(1024,i),2)+" "+sizes[i]};var $section=$('label[for="resizefly_sizes_section"]').parents("tr"),$toggle=$("#resizefly_restrict_sizes");showHideTable($toggle.is(":checked"),$section),$toggle.on("change",function(){showHideTable($toggle.is(":checked"),$section)}),$("#js-rzf-add-user-size").on("click",function(ev){ev.preventDefault();var values={},error=!1;$(this).parent(".rzf-user-sizes-single").siblings(".rzf-user-sizes-single").each(function(){var $input=$(this).find("input"),name=$input.attr("name").match(/resizefly_user_sizes\[clone\]\[([a-z]+?)\]/i);values[name[1]]=$.trim($input.val())});var $error=$("#js-rzf-user-sizes-error"),names=[];if($error.empty(),$(".rzf-image-sizes tbody tr td:last-of-type").each(function(){names.push($.trim($(this).text()))}),(0===values.name.length||$.inArray(values.name,names)>-1)&&($error.append($("<div>").text(resizefly.user_size_errors.name)),error=!0),parseInt(values.width,10)>0||parseInt(values.height,10)>0||($error.append($("<div>").text(resizefly.user_size_errors.dimension)),error=!0),error)return!1;$.each(values,function(key,val){$("#js-rzf-user-sizes").append($("<input>").attr({type:"hidden",name:"resizefly_user_sizes["+values.name+"]["+key+"]"}).val(val))}),$("#submit").click()}),$(".js-rzf-delete-user-size").on("click",function(ev){ev.preventDefault(),$(this).closest("tr").remove(),$("#submit").click()});
//# sourceMappingURL=resizefly-admin.min.js.map
})(jQuery);